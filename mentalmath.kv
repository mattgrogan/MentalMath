#:kivy 1.0.9
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import NavigationDrawer navigationdrawer.NavigationDrawer

<BaseLayout>:
    orientation: "vertical"
    menu_button: menu_button

    GridLayout:
        cols: 4
        size_hint_y: 0.10
        color: get_color_from_hex("#FFFFFF")
        canvas.before:
            Color: 
                rgb: get_color_from_hex("#283593")
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            id: menu_button
            text: "Menu"
            size_hint_x: 0.15

        Label:
            text: "Mental Math"
            size_hint_x: 0.70

        Label:
            text: "right"
            size_hint_x: 0.15

<SidePanel>:
    Button:
        text: "Reset Score"
        size_hint: 1.00, 0.10

<MentalMathLayout>:
    problem: ""
    response: ""
    response_label: response_label

    orientation: "vertical"

    GridLayout:
        cols: 4
        size_hint_y: .25

        Label:
            text: "Correct"
            color: get_color_from_hex("#FFFFFF")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#4CAF50")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: "Incorrect"
            color: get_color_from_hex("#FFFFFF")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#F44336")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: "Total"
            color: get_color_from_hex("#FFFFFF")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#3F51B5")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: "%"
            color: get_color_from_hex("#FFFFFF")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#009688")
                Rectangle:
                    pos: self.pos
                    size: self.size

        AnimatedLabel:
            text: str(root.nbr_correct)
            color: get_color_from_hex("#000000")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#C8E6C9")
                Rectangle:
                    pos: self.pos
                    size: self.size
        AnimatedLabel:
            id: incorrect_label
            text: str(root.nbr_incorrect)
            color: get_color_from_hex("#000000")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#EF9A9A")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: str(root.nbr_total)
            color: get_color_from_hex("#000000")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#9FA8DA")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: root.pct_correct
            color: get_color_from_hex("#000000")
            canvas.before:
                Color: 
                    rgb: get_color_from_hex("#80CBC4")
                Rectangle:
                    pos: self.pos
                    size: self.size

    Label:
        id: problem_label
        size_hint_y: .25
        text: root.problem
        text_size: self.size
        font_size: sp(25)
        padding: sp(10), sp(10)
        halign: 'right'
        valign: 'bottom'
        color: [0, 0, 0, 1]
        canvas.before:
            Color:
                rgb: get_color_from_hex("#FFFFFF")
            Rectangle:
                pos: self.pos
                size: self.size

    Label:
        id: response_label
        size_hint_y: .10
        text: root.response
        text_size: self.size
        halign: 'right'
        valign: 'middle'
        color: [0, 0, 0, 1]
        canvas.before:
            Color:
                rgb: get_color_from_hex("#CFD8DC")
            Rectangle:
                pos: self.pos
                size: self.size

    GridLayout:
        cols: 3
        size_hint_y: .40
        
        Button:
            text: "1"
            on_press: root.on_press(1)
        Button:
            text: "2"
            on_press: root.on_press(2)
        Button:
            text: "3"
            on_press: root.on_press(3)
        Button:
            text: "4"
            on_press: root.on_press(4)
        Button:
            text: "5"
            on_press: root.on_press(5)
        Button:
            text: "6"
            on_press: root.on_press(6)
        Button:
            text: "7"
            on_press: root.on_press(7)
        Button:
            text: "8"
            on_press: root.on_press(8)
        Button:
            text: "9"
            on_press: root.on_press(9)
        Button:
            text: "Clear"
            on_press: root.clear()
        Button:
            text: "0"
            on_press: root.on_press(0)
        Button:
            text: "Enter"
            on_press: root.enter()
